<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DELETE Request Example</title>
</head>
<body>
    <h1>DELETE Request Beispiel</h1>
    <form id="deleteForm">
        Bitte geben Sie den Teil der URL ein, der gelöscht werden soll:<br>
        <input type="text" id="urlPartToDelete" placeholder="URL-Teil hier eingeben"><br>
        <button type="button" onclick="sendDeleteRequest()">Loschen</button>
    </form>

    <div id="message"></div>

    <script>
        async function sendDeleteRequest() {

            // console.log("\n\nHALLO!!!!!\n\n")
            console.log(`ZEIG:`+document.getElementById('urlPartToDelete').value);
            const requestUrl = document.getElementById('urlPartToDelete').value;
            const baseUrl = 'http://localhost:8080/delete/';

            const fullUrl = `${baseUrl}${requestUrl}`;
            console.log(fullUrl);
            const response = await fetch(fullUrl, {method: 'DELETE'})

            const responseBody = await response.text();
            document.open();
            document.write(responseBody);
            document.close();
            console.log(responseBody);
            // .then(response => {
            //     if (response.ok) {
            //         document.getElementById('message').textContent = 'File erfolgreich gelöscht.';
            //     } else {
            //         document.getElementById('message').textContent = 'Delete file failed!';
            //     }
            // })
        }
    </script>
</body>
</html>
